jQuery((function(e){var a={moveInputFields:function(){var a=e("#billing_pno_field"),s=e("#billing_postcode_field"),o=e("div.woocommerce-billing-fields div"),d=e("#payer_get_address");a.addClass("form-row-first"),s.addClass("form-row-last"),s.removeClass("form-row-wide"),s.before('<div id="payer_postcode_placeholder"></div>'),o.prepend(s),o.prepend(a),s.after(d)},hidePNOfield:function(){var a=e("#billing_pno_field");e(a).hide()},hideAddressButton:function(){var a=e("#payer_get_address");e(a).hide()},showPNOfield:function(){var a=e("#billing_pno_field");e(a).show()},showAddressButton:function(){var a=e("#payer_get_address");e(a).show()},resetPostCodeField:function(){var a=e("#payer_postcode_placeholder"),s=e("#billing_postcode_field");a.before(s),a.remove(),s.removeClass("form-row-last"),s.addClass("form-row-wide")},addGetAddressButton:function(){var a=e("#billing_postcode_field"),s='<button type="button" class="payer_get_address_button button" id="payer_get_address">'+payer_checkout_params.get_address_text+"</button>";a.after(s)},getAddress:function(){var s=e("#billing_pno").val(),o=e("#billing_postcode").val();button=e("#payer_get_address"),response_message_field=e("#payer-get-address-response"),response_message_field.remove(),button.prop("disabled",!0),button.addClass("payer_spinner"),e.ajax({type:"POST",url:payer_checkout_params.get_address,data:{action:"get_address",personal_number:s,zip_code:o},dataType:"json",success:function(e){var s=e.data.address_information,o=e.data.message;!1===e.success?button.after('<div id="payer-get-address-response" class="woocommerce-error">'+o+"</div>"):(button.after('<div id="payer-get-address-response" class="woocommerce-message">'+o+"</div>"),a.populateAddressFields(s))},error:function(e){},complete:function(a){button.prop("disabled",!1),button.removeClass("payer_spinner"),e("body").trigger("update_checkout")}})},populateAddressFields:function(s){var o=e("#billing_first_name"),d=e("#billing_last_name"),r=e("#billing_company"),i=e("#billing_city"),n=e("#billing_postcode"),t=e("#billing_address_1"),l=e("#billing_address_2");o.val(""===s.organisation?a.maskFormField(s.first_name):s.first_name),d.val(""===s.organisation?a.maskFormField(s.last_name):s.last_name),r.val(""===s.organisation?a.maskFormField(s.organisation):s.organisation),i.val(""===s.organisation?a.maskFormField(s.city):s.city),n.val(s.zip_code),t.val(""===s.organisation?a.maskFormField(s.address_1):s.address_1),l.val(""===s.organisation?a.maskFormField(s.address_2):s.address_2)},maskFormField:function(a){if(""!==a){var s=a.split(" "),o=new Array;return e.each(s,(function(e,a){isNaN(a)?o.push(a.charAt(0)+Array(a.length).join("*")):o.push("**"+a.substr(a.length-3))})),o.join(" ")}},addBodyClass:function(){e("body").addClass("payer-active")},removeBodyClass:function(){e("body").removeClass("payer-active")},checkIfPnoIsFilled:function(){"payer_direct_invoice_gateway"===e('input[name="payment_method"]:checked').val()&&""===e("#billing_pno").val()?e("#place_order").prop("disabled",!0):e("#place_order").prop("disabled",!1)}};e("body").on("click","#payer_get_address",(function(){a.getAddress()})),e(document).ready((function(){"SE"===payer_checkout_params.locale&&"yes"===payer_checkout_params.enable_get_address&&(a.addGetAddressButton(),a.moveInputFields(),a.showPNOfield(),a.showAddressButton(),a.addBodyClass(),a.checkIfPnoIsFilled())})),e(document.body).on("change","input[name='payment_method']",(function(s){"1"===payer_checkout_params.masterpass_campaign&&e("body").trigger("update_checkout"),a.checkIfPnoIsFilled()})),e("form.checkout").on("keyup","#billing_pno",(function(){a.checkIfPnoIsFilled()})),e("body").on("updated_checkout",(function(){a.checkIfPnoIsFilled()}))}));
//# sourceMappingURL=checkout.js.min.js.map