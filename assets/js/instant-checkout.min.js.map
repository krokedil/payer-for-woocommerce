{"version":3,"file":"instant-checkout.min.js","mappings":"AAAAA,QAAQ,SAAWC,GACf,IAAIC,EAA4B,CAC5BC,yBAA0B,WACtB,GAAK,SAAWC,EAAY,CACxB,IACIC,EACI,oIAFcJ,EAAG,2BAGTK,MAAOD,EAC3B,KAAY,YAAcD,IAElBC,EACI,oIAFcJ,EAAG,aAGTK,MAAOD,GAE/B,EAEAE,gBAAiB,WACRN,EAAG,0BAA4B,IAAsC,MAA/BA,EAAG,iBAAkBO,OAGrB,KAA/BP,EAAG,iBAAkBO,MAD7BP,EAAG,2BAA4BQ,OAI/BR,EAAG,2BAA4BS,MAEvC,EAEAC,4BAA6B,WACzB,IAAIC,EAAa,GACbC,EAAe,GAanB,MAXiD,KAA5CZ,EAAG,8BAA+BO,OACnCI,EAAaX,EAAG,qBAAsBO,MACtCK,EAAeZ,EAAG,iBAAkBO,MACpCM,QAAQC,IAAKH,IAEbA,EAAaX,EAAG,8BAA+BO,MAEzC,CACNI,WAAYA,EACZC,aAAcA,EAGtB,EAEAG,wBAAyB,WACrB,IAAIC,EAAWhB,EAAG,mBAAoBO,MACtCU,IAAMhB,EAA0BS,8BAChC,IAAIC,EAAa,GAEZ,KAAOM,IAAIL,cACZD,EAAaM,IAAIN,WACjBC,aAAeK,IAAIL,eAEnBD,EAAaM,IAAIN,WACjBC,aAAe,IAInB,IAAIM,EAAO,CACPC,OAAQ,2BACRR,WAAYA,EACZC,aACAI,SAAUA,GAGdjB,OAAOqB,KAAMC,8BAA8BC,yBAA0BJ,GAAM,SAAWA,IAC7E,IAASA,EAAKK,SACfC,OAAOC,SAASC,QAASR,EAAKA,KAEtC,GACJ,EAEAS,qBAAsB,WAMlB5B,OAAOqB,KAAMC,8BAA8BO,sBAJhC,CACPT,OAAQ,0BAG4D,SAAWD,IAC1E,IAASA,EAAKK,SACfC,OAAOC,SAASC,QAASR,EAAKA,KAEtC,GACJ,EACAW,qBAAsB,WAMlB9B,OAAOqB,KAAMC,8BAA8BO,sBAJhC,CACPT,OAAQ,0BAG4D,SAAWD,IAC1E,IAASA,EAAKK,SACfC,OAAOC,SAASC,QAASR,EAAKA,KAEtC,GACJ,GAEAf,EAAYkB,8BAA8BlB,UAE9CF,EAA0BK,kBAC1BN,EAAG8B,UAAWC,GAAI,SAAU,8BAA8B,WACtD9B,EAA0BK,iBAC9B,IACAN,EAAG,QAAS+B,GAAI,QAAS,2BAA2B,WAChDlB,QAAQC,IAAK,SACR,YAAcX,EACfF,EAA0Bc,0BAClB,SAAWZ,EACnBF,EAA0B0B,uBAE1B1B,EAA0B4B,sBAElC,GACJ","sources":["webpack://payer-for-woocommerce/./assets/js/instant-checkout.js"],"sourcesContent":["jQuery( function ( $ ) {\n    var wc_payer_instant_checkout = {\n        addInstantCheckoutButton: function () {\n            if ( \"cart\" === page_type ) {\n                var checkout_button = $( \".wc-proceed-to-checkout\" ),\n                    instant_checkout_button =\n                        '<button type=\"button\" class=\"payer_instant_checkout button\" id=\"payer_instant_checkout\">Instant Checkout with MasterPass</button>'\n                checkout_button.after( instant_checkout_button )\n            } else if ( \"product\" === page_type ) {\n                var checkout_button = $( \"form.cart\" ),\n                    instant_checkout_button =\n                        '<button type=\"button\" class=\"payer_instant_checkout button\" id=\"payer_instant_checkout\">Instant Checkout with MasterPass</button>'\n                checkout_button.after( instant_checkout_button )\n            }\n        },\n\n        maybeHideButton: function () {\n            if ( $( \".product-type-variable\" )[ 0 ] && $( \".variation_id\" ).val() === \"0\" ) {\n                // Product is a variable product and variable is not set, hide button.\n                $( \"#payer_instant_checkout\" ).hide()\n            } else if ( $( \".variation_id\" ).val() === \"\" ) {\n                $( \"#payer_instant_checkout\" ).hide()\n            } else {\n                $( \"#payer_instant_checkout\" ).show()\n            }\n        },\n\n        getProductIdFromProductPage: function () {\n            var product_id = \"\",\n                variation_id = \"\"\n            // Get product ids if variable product else get normal product id.\n            if ( $( \".single_add_to_cart_button\" ).val() === \"\" ) {\n                product_id = $( \"[name=product_id]\" ).val()\n                variation_id = $( \".variation_id\" ).val()\n                console.log( product_id )\n            } else {\n                product_id = $( \".single_add_to_cart_button\" ).val()\n            }\n            var ids = {\n                product_id: product_id,\n                variation_id: variation_id,\n            }\n            return ids\n        },\n\n        makePurchaseProductPage: function () {\n            var quantity = $( \"[name=quantity]\" ).val()\n            ids = wc_payer_instant_checkout.getProductIdFromProductPage()\n            var product_id = \"\"\n            // Set the correct product id\n            if ( \"\" !== ids.variation_id ) {\n                product_id = ids.product_id\n                variation_id = ids.variation_id\n            } else {\n                product_id = ids.product_id\n                variation_id = \"\"\n            }\n\n            // Set AJAX data\n            var data = {\n                action: \"instant_product_purchase\",\n                product_id: product_id,\n                variation_id: variation_id,\n                quantity: quantity,\n            }\n            // Make AJAX call\n            jQuery.post( payer_instant_checkout_params.instant_product_purchase, data, function ( data ) {\n                if ( true === data.success ) {\n                    window.location.replace( data.data )\n                }\n            } )\n        },\n\n        makePurchaseCartPage: function () {\n            // Set AJAX data\n            var data = {\n                action: \"instant_cart_purchase\",\n            }\n            // Make AJAX call\n            jQuery.post( payer_instant_checkout_params.instant_cart_purchase, data, function ( data ) {\n                if ( true === data.success ) {\n                    window.location.replace( data.data )\n                }\n            } )\n        },\n        makePurchaseShopPage: function () {\n            // Set AJAX data\n            var data = {\n                action: \"instant_cart_purchase\",\n            }\n            // Make AJAX call\n            jQuery.post( payer_instant_checkout_params.instant_cart_purchase, data, function ( data ) {\n                if ( true === data.success ) {\n                    window.location.replace( data.data )\n                }\n            } )\n        },\n    }\n    var page_type = payer_instant_checkout_params.page_type\n    //wc_payer_instant_checkout.addInstantCheckoutButton();\n    wc_payer_instant_checkout.maybeHideButton()\n    $( document ).on( \"change\", \"input[name='variation_id']\", function () {\n        wc_payer_instant_checkout.maybeHideButton()\n    } )\n    $( \"body\" ).on( \"click\", \"#payer_instant_checkout\", function () {\n        console.log( \"click\" )\n        if ( \"product\" === page_type ) {\n            wc_payer_instant_checkout.makePurchaseProductPage()\n        } else if ( \"cart\" === page_type ) {\n            wc_payer_instant_checkout.makePurchaseCartPage()\n        } else {\n            wc_payer_instant_checkout.makePurchaseShopPage()\n        }\n    } )\n} )\n"],"names":["jQuery","$","wc_payer_instant_checkout","addInstantCheckoutButton","page_type","instant_checkout_button","after","maybeHideButton","val","hide","show","getProductIdFromProductPage","product_id","variation_id","console","log","makePurchaseProductPage","quantity","ids","data","action","post","payer_instant_checkout_params","instant_product_purchase","success","window","location","replace","makePurchaseCartPage","instant_cart_purchase","makePurchaseShopPage","document","on"],"sourceRoot":""}